* acorn-globals
:PROPERTIES:
:CUSTOM_ID: acorn-globals
:END:
Detect global variables in JavaScript using acorn

[[https://travis-ci.org/ForbesLindesay/acorn-globals][[[https://img.shields.io/travis/ForbesLindesay/acorn-globals/master.svg]]]]
[[https://david-dm.org/ForbesLindesay/acorn-globals][[[https://img.shields.io/david/ForbesLindesay/acorn-globals.svg]]]]
[[https://www.npmjs.org/package/acorn-globals][[[https://img.shields.io/npm/v/acorn-globals.svg]]]]

** Installation
:PROPERTIES:
:CUSTOM_ID: installation
:END:
#+begin_example
npm install acorn-globals
#+end_example

** Usage
:PROPERTIES:
:CUSTOM_ID: usage
:END:
detect.js

#+begin_src js
var fs = require('fs');
var detect = require('acorn-globals');

var src = fs.readFileSync(__dirname + '/input.js', 'utf8');

var scope = detect(src);
console.dir(scope);
#+end_src

input.js

#+begin_src js
var x = 5;
var y = 3, z = 2;

w.foo();
w = 2;

RAWR=444;
RAWR.foo();

BLARG=3;

foo(function () {
    var BAR = 3;
    process.nextTick(function (ZZZZZZZZZZZZ) {
        console.log('beep boop');
        var xyz = 4;
        x += 10;
        x.zzzzzz;
        ZZZ=6;
    });
    function doom () {
    }
    ZZZ.foo();

});

console.log(xyz);
#+end_src

output:

#+begin_example
$ node example/detect.js
[ { name: 'BLARG', nodes: [ [Object] ] },
  { name: 'RAWR', nodes: [ [Object], [Object] ] },
  { name: 'ZZZ', nodes: [ [Object], [Object] ] },
  { name: 'console', nodes: [ [Object], [Object] ] },
  { name: 'foo', nodes: [ [Object] ] },
  { name: 'process', nodes: [ [Object] ] },
  { name: 'w', nodes: [ [Object], [Object] ] },
  { name: 'xyz', nodes: [ [Object] ] } ]
#+end_example

** License
:PROPERTIES:
:CUSTOM_ID: license
:END:
MIT
