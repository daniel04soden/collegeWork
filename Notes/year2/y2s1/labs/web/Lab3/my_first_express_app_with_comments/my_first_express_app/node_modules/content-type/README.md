# content-type

[\[\[<https://badgen.net/npm/v/content-type>](https://npmjs.org/package/content-type)\]\]
[\[\[<https://badgen.net/npm/dm/content-type>](https://npmjs.org/package/content-type)\]\]
[\[\[<https://badgen.net/npm/node/content-type>](https://nodejs.org/en/download)\]\]
[\[\[<https://badgen.net/github/checks/jshttp/content-type/master?label=ci>](https://github.com/jshttp/content-type/actions/workflows/ci.yml)\]\]
[\[\[<https://badgen.net/coveralls/c/github/jshttp/content-type/master>](https://coveralls.io/r/jshttp/content-type?branch=master)\]\]

Create and parse HTTP Content-Type header according to RFC 7231

## Installation

``` {.bash org-language="sh"}
$ npm install content-type
```

## API

``` {.javascript org-language="js"}
var contentType = require('content-type')
```

### contentType.parse(string)

``` {.javascript org-language="js"}
var obj = contentType.parse('image/svg+xml; charset=utf-8')
```

Parse a `Content-Type`{.verbatim} header. This will return an object
with the following properties (examples are shown for the string
`'image/svg+xml; charset=utf-8'`{.verbatim}):

- `type`{.verbatim}: The media type (the type and subtype, always lower
  case). Example: `'image/svg+xml'`{.verbatim}

- `parameters`{.verbatim}: An object of the parameters in the media type
  (name of parameter always lower case). Example:
  `{charset: 'utf-8'}`{.verbatim}

Throws a `TypeError`{.verbatim} if the string is missing or invalid.

### contentType.parse(req)

``` {.javascript org-language="js"}
var obj = contentType.parse(req)
```

Parse the `Content-Type`{.verbatim} header from the given
`req`{.verbatim}. Short-cut for
`contentType.parse(req.headers['content-type'])`{.verbatim}.

Throws a `TypeError`{.verbatim} if the `Content-Type`{.verbatim} header
is missing or invalid.

### contentType.parse(res)

``` {.javascript org-language="js"}
var obj = contentType.parse(res)
```

Parse the `Content-Type`{.verbatim} header set on the given
`res`{.verbatim}. Short-cut for
`contentType.parse(res.getHeader('content-type'))`{.verbatim}.

Throws a `TypeError`{.verbatim} if the `Content-Type`{.verbatim} header
is missing or invalid.

### contentType.format(obj)

``` {.javascript org-language="js"}
var str = contentType.format({
  type: 'image/svg+xml',
  parameters: { charset: 'utf-8' }
})
```

Format an object into a `Content-Type`{.verbatim} header. This will
return a string of the content type for the given object with the
following properties (examples are shown that produce the string
`'image/svg+xml; charset=utf-8'`{.verbatim}):

- `type`{.verbatim}: The media type (will be lower-cased). Example:
  `'image/svg+xml'`{.verbatim}

- `parameters`{.verbatim}: An object of the parameters in the media type
  (name of the parameter will be lower-cased). Example:
  `{charset: 'utf-8'}`{.verbatim}

Throws a `TypeError`{.verbatim} if the object contains an invalid type
or parameter names.

## License

[MIT](LICENSE)
