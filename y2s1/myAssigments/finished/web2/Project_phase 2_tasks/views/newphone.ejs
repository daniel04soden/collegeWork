<!DOCTYPE html>
<html lang="en">

<html>

<head>
    <title>MTU Phone Usage Monitor</title>
    <link rel="stylesheet" href="/stylesheets/styleHome.css"></link>
</head>

<body>
    <div class=" banner">
        <div class="navbar">
        
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/phone/create">New Entry</a></li>

            </ul>
        </div>

        <div class="content">
            <h2>Enter Phone usage data</h2>

            <form id="form" action="/phone/create" method="post">

                <p>
                    <label for="name">Enter your full name:</label>
                    <input type="String" id="name" name="name" placeholder="Name" required>
                </p>
                <br>
                <p>
                    <label for="timeEducation">How much time used for education:</label>
                    <input type="Number" id="timeEducation" name="timeEducation" placeholder="minutes" min="0" max="1140" required>
                </p>
                <br>
                <p>
                    <label for="timeShopping">How much time used for shopping:</label>
                    <input type="Number" id="timeShopping" name="timeShopping" placeholder="minutes" min="0" max="1140" required>
                </p>
                <br>
                <p>
                    <label for="timeBrowsing">How much time used for browsing and searching:</label>
                    <input type="Number" id="timeBrowsing" name="timeBrowsing" placeholder="minutes" min="0" max="1140" required>
                </p>
                <br>
                <p>
                    <label for="timeSocial">How much time used for social media:</label>
                    <input type="Number" id="timeSocial" name="timeSocial" placeholder="minutes" min="0" max="1140" required>
                </p>
                <br>

                <button id="button" type="submit" onclick="errormessage()"><span></span>submit</button>


            </form>
        </div>
        <script>
            const form = document.getElementById('form');
            form.onsubmit = (e) => {
                if (findTotal() > 1140) {
                    console.log('Not submitting!');
                    //pop up error
                    window.alert("There are only 1140 minutes in a day... Your total time spent on your phone is more than that today, which is impossible")

                    return false; // Stop the submit event
                }

                // Your actions on succesful validation of sum not greater than 1140
                console.log('The form has been submitted');
            }

            function findTotal() {
                const arr = Array.from(form.querySelectorAll('[type=Number]'));
                let total = 0;

                for (let i = 0; i < arr.length; i++) {
                    const currentInputValue = parseInt(arr[i].value, 10);
                    if (currentInputValue) {
                        total += currentInputValue;
                    }
                }

                return total;
            }
        </script>
</body>

</html>